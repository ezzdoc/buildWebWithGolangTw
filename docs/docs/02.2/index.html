<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>02.2 | 使用 Golang 打造 Web 應用程式</title>


<link rel="stylesheet" href="/buildWebWithGolangTw/book.min.89885fa0429ec73067282f26fc0c6d38cfc617a443ec4e835d47b821c52c6e92.css" integrity="sha256-iYhfoEKexzBnKC8m/AxtOM/GF6RD7E6DXUe4IcUsbpI=">


<script defer src="/buildWebWithGolangTw/search.min.1a26f030063cd84b7dd0472b3e255bc21c62c31322ab49b56f536fba41b42496.js" integrity="sha256-GibwMAY82Et90EcrPiVbwhxiwxMiq0m1b1NvukG0JJY="></script>



<link rel="icon" href="/buildWebWithGolangTw/favicon.png" type="image/x-icon">

<base href="https://ezzdoc.com/buildWebWithGolangTw/">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://ezzdoc.com/buildWebWithGolangTw/"><span>使用 Golang 打造 Web 應用程式</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" readonly />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    
  
  
  

  <style>
  nav ul a[href$="\2f buildWebWithGolangTw\2f docs\2f 02.2\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><a href="/buildWebWithGolangTw/docs/preface/">目錄</a></li>
<li><a href="/buildWebWithGolangTw/docs/01.0/">1.Go 環境配置</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/01.1/">1.1 安裝 Go</a></li>
<li><a href="/buildWebWithGolangTw/docs/01.2/">1.2 GOPATH 與工作空間</a></li>
<li><a href="/buildWebWithGolangTw/docs/01.3/">1.3 Go 命令</a></li>
<li><a href="/buildWebWithGolangTw/docs/01.4/">1.4 Go 開發工具</a></li>
<li><a href="/buildWebWithGolangTw/docs/01.5/">1.5 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/02.0/">2.Go 語言基礎</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/02.1/">2.1 你好，Go</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.2/">2.2 Go 基礎</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.3/">2.3 流程和函式</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.4/">2.4 struct</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.5/">2.5 物件導向</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.6/">2.6 interface</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.7/">2.7 併發</a></li>
<li><a href="/buildWebWithGolangTw/docs/02.8/">2.8 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/03.0/">3.Web 基礎</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/03.1/">3.1 web 工作方式</a></li>
<li><a href="/buildWebWithGolangTw/docs/03.2/">3.2 Go 建立一個簡單的 web 服務</a></li>
<li><a href="/buildWebWithGolangTw/docs/03.3/">3.3 Go 如何使得 web 工作</a></li>
<li><a href="/buildWebWithGolangTw/docs/03.4/">3.4 Go 的 http 套件詳解</a></li>
<li><a href="/buildWebWithGolangTw/docs/03.5/">3.5 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/04.0/">4.表單</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/04.1/">4.1 處理表單的輸入</a></li>
<li><a href="/buildWebWithGolangTw/docs/04.2/">4.2 驗證表單的輸入</a></li>
<li><a href="/buildWebWithGolangTw/docs/04.3/">4.3 預防跨站指令碼</a></li>
<li><a href="/buildWebWithGolangTw/docs/04.4/">4.4 防止多次提交表單</a></li>
<li><a href="/buildWebWithGolangTw/docs/04.5/">4.5 處理檔案上傳</a></li>
<li><a href="/buildWebWithGolangTw/docs/04.6/">4.6 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/05.0/">5.訪問資料庫</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/05.1/">5.1 database/sql 介面</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.2/">5.2 使用 MySQL 資料庫</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.3/">5.3 使用 SQLite 資料庫</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.4/">5.4 使用 PostgreSQL 資料庫</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.5/">5.5 使用 Beego orm 函式庫進行 ORM 開發</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.6/">5.6 NOSQL 資料庫操作</a></li>
<li><a href="/buildWebWithGolangTw/docs/05.7/">5.7 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/06.0/">6.session 和資料儲存</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/06.1/">6.1 session 和 cookie</a></li>
<li><a href="/buildWebWithGolangTw/docs/06.2/">6.2 Go 如何使用 session</a></li>
<li><a href="/buildWebWithGolangTw/docs/06.3/">6.3 session 儲存</a></li>
<li><a href="/buildWebWithGolangTw/docs/06.4/">6.4 預防 session 劫持</a></li>
<li><a href="/buildWebWithGolangTw/docs/06.5/">6.5 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/07.0/">7.文字檔案處理</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/07.1/">7.1 XML 處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.2/">7.2 JSON 處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.3/">7.3 正則處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.4/">7.4 範本處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.5/">7.5 檔案操作</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.6/">7.6 字串處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/07.7/">7.7 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/08.0/">8.Web 服務</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/08.1/">8.1 Socket 程式設計</a></li>
<li><a href="/buildWebWithGolangTw/docs/08.2/">8.2 WebSocket</a></li>
<li><a href="/buildWebWithGolangTw/docs/08.3/">8.3 REST</a></li>
<li><a href="/buildWebWithGolangTw/docs/08.4/">8.4 RPC</a></li>
<li><a href="/buildWebWithGolangTw/docs/08.5/">8.5 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/09.0/">9.安全與加密</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/09.1/">9.1 預防 CSRF 攻擊</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.2/">9.2 確保輸入過濾</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.3/">9.3 避免 XSS 攻擊</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.4/">9.4 避免 SQL 注入</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.5/">9.5 儲存密碼</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.6/">9.6 加密和解密資料</a></li>
<li><a href="/buildWebWithGolangTw/docs/09.7/">9.7 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/10.0/">10.國際化和本地化</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/10.1/">10.1 設定預設地區</a></li>
<li><a href="/buildWebWithGolangTw/docs/10.2/">10.2 本地化資源</a></li>
<li><a href="/buildWebWithGolangTw/docs/10.3/">10.3 國際化站點</a></li>
<li><a href="/buildWebWithGolangTw/docs/10.4/">10.4 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/11.0/">11.錯誤處理，除錯和測試</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/11.1/">11.1 錯誤處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/11.2/">11.2 使用 GDB 除錯</a></li>
<li><a href="/buildWebWithGolangTw/docs/11.3/">11.3 Go 怎麼寫測試案例</a></li>
<li><a href="/buildWebWithGolangTw/docs/11.4/">11.4 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/12.0/">12.部署與維護</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/12.1/">12.1 應用日誌</a></li>
<li><a href="/buildWebWithGolangTw/docs/12.2/">12.2 網站錯誤處理</a></li>
<li><a href="/buildWebWithGolangTw/docs/12.3/">12.3 應用部署</a></li>
<li><a href="/buildWebWithGolangTw/docs/12.4/">12.4 備份和還原</a></li>
<li><a href="/buildWebWithGolangTw/docs/12.5/">12.5 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/13.0/">13.如何設計一個 Web 框架</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/13.1/">13.1 專案規劃</a></li>
<li><a href="/buildWebWithGolangTw/docs/13.2/">13.2 自訂路由器設計</a></li>
<li><a href="/buildWebWithGolangTw/docs/13.3/">13.3 controller 設計</a></li>
<li><a href="/buildWebWithGolangTw/docs/13.4/">13.4 日誌和配置設計</a></li>
<li><a href="/buildWebWithGolangTw/docs/13.5/">13.5 實現部落格的增刪改</a></li>
<li><a href="/buildWebWithGolangTw/docs/13.6/">13.6 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/14.0/">14.擴充套件 Web 框架</a>

<ul>
<li><a href="/buildWebWithGolangTw/docs/14.1/">14.1 靜態檔案支援</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.2/">14.2 Session 支援</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.3/">14.3 表單支援</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.4/">14.4 使用者認證</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.5/">14.5 多語言支援</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.6/">14.6 pprof 支援</a></li>
<li><a href="/buildWebWithGolangTw/docs/14.7/">14.7 小結</a></li>
</ul></li>
<li><a href="/buildWebWithGolangTw/docs/ref/">附錄 A 參考資料</a></li>
</ul>







</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/buildWebWithGolangTw/svg/menu.svg" alt="Menu" />
  </label>
  <strong>02.2</strong>
</header>

      
<article class="markdown">

<h1 id="2-2-go-基礎">2.2 Go 基礎</h1>

<p>這小節我們將要介紹如何定義變數、常數、Go 內建型別以及 Go 程式設計中的一些技巧。</p>

<h2 id="定義變數">定義變數</h2>

<p>Go 語言裡面定義變數有多種方式。</p>

<p>使用 <code>var</code> 關鍵字是 Go 最基本的定義變數方式，與 C 語言不同的是 Go 把變數型別放在變數名後面：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">//定義一個名稱為“variableName”，型別為&#34;type&#34;的變數
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">variableName</span> <span style="color:#66d9ef">type</span></code></pre></div>
<p>定義多個變數</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">//定義三個型別都是“type”的變數
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vname1</span>, <span style="color:#a6e22e">vname2</span>, <span style="color:#a6e22e">vname3</span> <span style="color:#66d9ef">type</span></code></pre></div>
<p>定義變數並初始化值</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">//初始化“variableName”的變數為“value”值，型別是“type”
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">variableName</span> <span style="color:#66d9ef">type</span> = <span style="color:#a6e22e">value</span></code></pre></div>
<p>同時初始化多個變數</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">/*
</span><span style="color:#75715e">	定義三個型別都是&#34;type&#34;的變數，並且分別初始化為相應的值
</span><span style="color:#75715e">	vname1 為 v1，vname2 為 v2，vname3 為 v3
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vname1</span>, <span style="color:#a6e22e">vname2</span>, <span style="color:#a6e22e">vname3</span> <span style="color:#66d9ef">type</span>= <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v3</span></code></pre></div>
<p>你是不是覺得上面這樣的定義有點繁瑣？沒關係，因為 Go 語言的設計者也發現了，有一種寫法可以讓它變得簡單一點。我們可以直接忽略型別宣告，那麼上面的程式碼變成這樣了：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">/*
</span><span style="color:#75715e">	定義三個變數，它們分別初始化為相應的值
</span><span style="color:#75715e">	vname1 為 v1，vname2 為 v2，vname3 為 v3
</span><span style="color:#75715e">	然後 Go 會根據其相應值的型別來幫你初始化它們
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vname1</span>, <span style="color:#a6e22e">vname2</span>, <span style="color:#a6e22e">vname3</span> = <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v3</span></code></pre></div>
<p>你覺得上面的還是有些繁瑣？好吧，我也覺得。讓我們繼續簡化：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">/*
</span><span style="color:#75715e">	定義三個變數，它們分別初始化為相應的值
</span><span style="color:#75715e">	vname1 為 v1，vname2 為 v2，vname3 為 v3
</span><span style="color:#75715e">	編譯器會根據初始化的值自動推匯出相應的型別
</span><span style="color:#75715e">*/</span>
<span style="color:#a6e22e">vname1</span>, <span style="color:#a6e22e">vname2</span>, <span style="color:#a6e22e">vname3</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">v1</span>, <span style="color:#a6e22e">v2</span>, <span style="color:#a6e22e">v3</span></code></pre></div>
<p>現在是不是看上去非常簡潔了？<code>:=</code>這個符號直接取代了 <code>var</code> 和<code>type</code>，這種形式叫做簡短宣告。不過它有一個限制，那就是它只能用在函式內部；在函式外部使用則會無法編譯透過，所以一般用 <code>var</code> 方式來定義全域性變數。</p>

<p><code>_</code>（下劃線）是個特殊的變數名，任何賦予它的值都會被丟棄。在這個例子中，我們將值 <code>35</code> 賦予<code>b</code>，並同時丟棄<code>34</code>：</p>

<pre><code>_, b := 34, 35
</code></pre>

<p>Go 對於已宣告但未使用的變數會在編譯階段報錯，比如下面的程式碼就會產生一個錯誤：宣告了 <code>i</code> 但未使用。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
}</code></pre></div>
<h2 id="常數">常數</h2>

<p>所謂常數，也就是在程式編譯階段就確定下來的值，而程式在執行時無法改變該值。在 Go 程式中，常數可定義為數值、布林值或字串等型別。</p>

<p>它的語法如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">constantName</span> = <span style="color:#a6e22e">value</span>
<span style="color:#75715e">//如果需要，也可以明確指定常數的型別：
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Pi</span> <span style="color:#66d9ef">float32</span> = <span style="color:#ae81ff">3.1415926</span></code></pre></div>
<p>下面是一些常數宣告的例子：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Pi</span> = <span style="color:#ae81ff">3.1415926</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">i</span> = <span style="color:#ae81ff">10000</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MaxThread</span> = <span style="color:#ae81ff">10</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">prefix</span> = <span style="color:#e6db74">&#34;astaxie_&#34;</span></code></pre></div>
<p>Go 常數和一般程式語言不同的是，可以指定相當多的小數位數(例如 200 位)，
若指定給 float32 自動縮短為 32bit，指定給 float64 自動縮短為 64bit，詳情參考 <a href="http://golang.org/ref/spec#Constants"> 連結</a></p>

<h2 id="內建基礎型別">內建基礎型別</h2>

<h3 id="boolean">Boolean</h3>

<p>在 Go 中，布林值的型別為<code>bool</code>，值是 <code>true</code> 或<code>false</code>，預設為<code>false</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">//範例程式碼
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">isActive</span> <span style="color:#66d9ef">bool</span>  <span style="color:#75715e">// 全域性變數宣告
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">enabled</span>, <span style="color:#a6e22e">disabled</span> = <span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>  <span style="color:#75715e">// 忽略型別的宣告
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">test</span>() {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">available</span> <span style="color:#66d9ef">bool</span>  <span style="color:#75715e">// 一般宣告
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">valid</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">false</span>      <span style="color:#75715e">// 簡短宣告
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">available</span> = <span style="color:#66d9ef">true</span>    <span style="color:#75715e">// 賦值操作
</span><span style="color:#75715e"></span>}</code></pre></div>
<h3 id="數值型別">數值型別</h3>

<p>整數型別有無符號和帶符號兩種。Go 同時支援 <code>int</code> 和<code>uint</code>，這兩種型別的長度相同，但具體長度取決於不同編譯器的實現。Go 裡面也有直接定義好位數的型別：<code>rune</code>, <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>int64</code>和<code>byte</code>, <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>uint64</code>。其中 <code>rune</code> 是<code>int32</code>的別稱，<code>byte</code>是 <code>uint8</code> 的別稱。</p>

<blockquote>
<p>需要注意的一點是，這些型別的變數之間不允許互相賦值或操作，不然會在編譯時引起編譯器報錯。</p>

<p>如下的程式碼會產生錯誤：invalid operation: a + b (mismatched types int8 and int32)</p>

<blockquote>
<p>var a int8</p>

<p>var b int32</p>

<p>c:=a + b</p>
</blockquote>

<p>另外，儘管 int 的長度是 32 bit, 但 int 與 int32 並不可以互用。</p>
</blockquote>

<p>浮點數的型別有 <code>float32</code> 和<code>float64</code>兩種（沒有 <code>float</code> 型別），預設是<code>float64</code>。</p>

<p>這就是全部嗎？No！Go 還支援複數。它的預設型別是<code>complex128</code>（64 位實數+64 位虛數）。如果需要小一些的，也有<code>complex64</code>(32 位實數+32 位虛數)。複數的形式為<code>RE + IMi</code>，其中 <code>RE</code> 是實數部分，<code>IM</code>是虛數部分，而最後的 <code>i</code> 是虛數單位。下面是一個使用複數的例子：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">c</span> <span style="color:#66d9ef">complex64</span> = <span style="color:#ae81ff">5</span><span style="color:#f92672">+</span><span style="color:#ae81ff">5i</span>
<span style="color:#75715e">//output: (5+5i)
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Value is: %v&#34;</span>, <span style="color:#a6e22e">c</span>)</code></pre></div>
<h3 id="字串">字串</h3>

<p>我們在上一節中講過，Go 中的字串都是採用<code>UTF-8</code>字符集編碼。字串是用一對雙引號（<code>&quot;&quot;</code>）或反引號（<code>`</code> <code>`</code>）括起來定義，它的型別是<code>string</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">//範例程式碼
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">frenchHello</span> <span style="color:#66d9ef">string</span>  <span style="color:#75715e">// 宣告變數為字串的一般方法
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">emptyString</span> <span style="color:#66d9ef">string</span> = <span style="color:#e6db74">&#34;&#34;</span>  <span style="color:#75715e">// 宣告了一個字串變數，初始化為空字串
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">test</span>() {
	<span style="color:#a6e22e">no</span>, <span style="color:#a6e22e">yes</span>, <span style="color:#a6e22e">maybe</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;no&#34;</span>, <span style="color:#e6db74">&#34;yes&#34;</span>, <span style="color:#e6db74">&#34;maybe&#34;</span>  <span style="color:#75715e">// 簡短宣告，同時宣告多個變數
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">japaneseHello</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;Konichiwa&#34;</span>  <span style="color:#75715e">// 同上
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">frenchHello</span> = <span style="color:#e6db74">&#34;Bonjour&#34;</span>  <span style="color:#75715e">// 常規賦值
</span><span style="color:#75715e"></span>}</code></pre></div>
<p>在 Go 中字串是不可變的，例如下面的程式碼編譯時會報錯：cannot assign to s[0]</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#66d9ef">string</span> = <span style="color:#e6db74">&#34;hello&#34;</span>
<span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#e6db74">&#39;c&#39;</span></code></pre></div>
<p>但如果真的想要修改怎麼辦呢？下面的程式碼可以實現：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;hello&#34;</span>
<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> []byte(<span style="color:#a6e22e">s</span>)  <span style="color:#75715e">// 將字串 s 轉換為 []byte 型別
</span><span style="color:#75715e"></span><span style="color:#a6e22e">c</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#e6db74">&#39;c&#39;</span>
<span style="color:#a6e22e">s2</span> <span style="color:#f92672">:=</span> string(<span style="color:#a6e22e">c</span>)  <span style="color:#75715e">// 再轉換回 string 型別
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#a6e22e">s2</span>)</code></pre></div>
<p>Go 中可以使用<code>+</code>運算子來連線兩個字串：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;hello,&#34;</span>
<span style="color:#a6e22e">m</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34; world&#34;</span>
<span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">m</span>
<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#a6e22e">a</span>)</code></pre></div>
<p>修改字串也可寫為：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">s</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;hello&#34;</span>
<span style="color:#a6e22e">s</span> = <span style="color:#e6db74">&#34;c&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>[<span style="color:#ae81ff">1</span>:] <span style="color:#75715e">// 字串雖不能更改，但可進行切片(slice)操作
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s\n&#34;</span>, <span style="color:#a6e22e">s</span>)</code></pre></div>
<p>如果要宣告一個多行的字串怎麼辦？可以透過<code>`</code>來宣告：</p>

<pre><code>m := `hello
    world`
</code></pre>

<p><code>`</code> 括起的字串為 Raw 字串，即字串在程式碼中的形式就是列印時的形式，它沒有字元轉義，換行也將原樣輸出。例如本例中會輸出：</p>

<pre><code>hello
    world
</code></pre>

<h3 id="錯誤型別">錯誤型別</h3>

<p>Go 內建有一個 <code>error</code> 型別，專門用來處理錯誤資訊，Go 的 <code>package</code> 裡面還專門有一個套件 <code>errors</code> 來處理錯誤：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">errors</span>.<span style="color:#a6e22e">New</span>(<span style="color:#e6db74">&#34;emit macho dwarf: elf header corrupted&#34;</span>)
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Print</span>(<span style="color:#a6e22e">err</span>)
}</code></pre></div>
<h3 id="go-資料底層的儲存">Go 資料底層的儲存</h3>

<p>下面這張圖來源於<a href="http://research.swtch.com/">Russ Cox Blog</a>中一篇介紹 <a href="http://research.swtch.com/godata">Go 資料結構</a>的文章，大家可以看到這些基礎型別底層都是分配了一塊記憶體，然後儲存了相應的值。</p>

<p><img src="images/2.2.basic.png" alt="" /></p>

<p>圖 2.1 Go 資料格式的儲存</p>

<h2 id="一些技巧">一些技巧</h2>

<h3 id="分組宣告">分組宣告</h3>

<p>在 Go 語言中，同時宣告多個常數、變數，或者匯入多個套件時，可採用分組的方式進行宣告。</p>

<p>例如下面的程式碼：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;fmt&#34;</span>
<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;os&#34;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">i</span> = <span style="color:#ae81ff">100</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">pi</span> = <span style="color:#ae81ff">3.1415</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">prefix</span> = <span style="color:#e6db74">&#34;Go_&#34;</span>

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pi</span> <span style="color:#66d9ef">float32</span>
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">prefix</span> <span style="color:#66d9ef">string</span></code></pre></div>
<p>可以分組寫成如下形式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#f92672">import</span>(
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;os&#34;</span>
)

<span style="color:#66d9ef">const</span>(
	<span style="color:#a6e22e">i</span> = <span style="color:#ae81ff">100</span>
	<span style="color:#a6e22e">pi</span> = <span style="color:#ae81ff">3.1415</span>
	<span style="color:#a6e22e">prefix</span> = <span style="color:#e6db74">&#34;Go_&#34;</span>
)

<span style="color:#66d9ef">var</span>(
	<span style="color:#a6e22e">i</span> <span style="color:#66d9ef">int</span>
	<span style="color:#a6e22e">pi</span> <span style="color:#66d9ef">float32</span>
	<span style="color:#a6e22e">prefix</span> <span style="color:#66d9ef">string</span>
)</code></pre></div>
<h3 id="iota-列舉">iota 列舉</h3>

<p>Go 裡面有一個關鍵字 <code>iota</code>，這個關鍵字用來宣告 <code>enum</code> 的時候採用，它預設開始值是 0，const 中每增加一行加 1：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;fmt&#34;</span>
)

<span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">x</span> = <span style="color:#66d9ef">iota</span> <span style="color:#75715e">// x == 0
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">y</span> = <span style="color:#66d9ef">iota</span> <span style="color:#75715e">// y == 1
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">z</span> = <span style="color:#66d9ef">iota</span> <span style="color:#75715e">// z == 2
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">w</span>        <span style="color:#75715e">// 常數宣告省略值時，預設和之前一個值的字面相同。這裡隱含的說 w = iota，因此 w == 3。其實上面 y 和 z 可同樣不用&#34;= iota&#34;
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">v</span> = <span style="color:#66d9ef">iota</span> <span style="color:#75715e">// 每遇到一個 const 關鍵字，iota 就會重置，此時 v == 0
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">h</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span> = <span style="color:#66d9ef">iota</span>, <span style="color:#66d9ef">iota</span>, <span style="color:#66d9ef">iota</span> <span style="color:#75715e">//h=0,i=0,j=0 iota 在同一行值相同
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">const</span> (
	<span style="color:#a6e22e">a</span>       = <span style="color:#66d9ef">iota</span> <span style="color:#75715e">//a=0
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">b</span>       = <span style="color:#e6db74">&#34;B&#34;</span>
	<span style="color:#a6e22e">c</span>       = <span style="color:#66d9ef">iota</span>             <span style="color:#75715e">//c=2
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">d</span>, <span style="color:#a6e22e">e</span>, <span style="color:#a6e22e">f</span> = <span style="color:#66d9ef">iota</span>, <span style="color:#66d9ef">iota</span>, <span style="color:#66d9ef">iota</span> <span style="color:#75715e">//d=3,e=3,f=3
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">g</span>       = <span style="color:#66d9ef">iota</span>             <span style="color:#75715e">//g = 4
</span><span style="color:#75715e"></span>)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">d</span>, <span style="color:#a6e22e">e</span>, <span style="color:#a6e22e">f</span>, <span style="color:#a6e22e">g</span>, <span style="color:#a6e22e">h</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">j</span>, <span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">y</span>, <span style="color:#a6e22e">z</span>, <span style="color:#a6e22e">w</span>, <span style="color:#a6e22e">v</span>)
}</code></pre></div>
<blockquote>
<p>除非被明確的設定為其它值或<code>iota</code>，每個 <code>const</code> 分組的第一個常數被預設設定為它的 0 值，第二及後續的常數被預設設定為它前面那個常數的值，如果前面那個常數的值是<code>iota</code>，則它也被設定為<code>iota</code>。</p>
</blockquote>

<h3 id="go-程式設計的一些規則">Go 程式設計的一些規則</h3>

<p>Go 之所以會那麼簡潔，是因為它有一些預設的行為：
- 大寫字母開頭的變數是可匯出的，也就是其它套件可以讀取的，是公有變數；小寫字母開頭的就是不可匯出的，是私有變數。
- 大寫字母開頭的函式也是一樣，相當於 <code>class</code> 中的帶 <code>public</code> 關鍵詞的公有函式；小寫字母開頭的就是有 <code>private</code> 關鍵詞的私有函式。</p>

<h2 id="array-slice-map">array、slice、map</h2>

<h3 id="array">array</h3>

<p><code>array</code>就是陣列，它的定義方式如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">arr</span> [<span style="color:#a6e22e">n</span>]<span style="color:#66d9ef">type</span></code></pre></div>
<p>在 <code>[n]type</code> 中，<code>n</code>表示陣列的長度，<code>type</code>表示儲存元素的型別。對陣列的操作和其它語言類似，都是透過 <code>[]</code> 來進行讀取或賦值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">arr</span> [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">int</span>  <span style="color:#75715e">// 宣告了一個 int 型別的陣列
</span><span style="color:#75715e"></span><span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">0</span>] = <span style="color:#ae81ff">42</span>      <span style="color:#75715e">// 陣列下標是從 0 開始的
</span><span style="color:#75715e"></span><span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">1</span>] = <span style="color:#ae81ff">13</span>      <span style="color:#75715e">// 賦值操作
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;The first element is %d\n&#34;</span>, <span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">0</span>])  <span style="color:#75715e">// 取得資料，回傳 42
</span><span style="color:#75715e"></span><span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;The last element is %d\n&#34;</span>, <span style="color:#a6e22e">arr</span>[<span style="color:#ae81ff">9</span>]) <span style="color:#f92672">//</span><span style="color:#a6e22e">回傳未賦值的最後一個元素</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#a6e22e">預設回傳</span> <span style="color:#ae81ff">0</span></code></pre></div>
<p>由於長度也是陣列型別的一部分，因此 <code>[3]int</code> 與<code>[4]int</code>是不同的型別，陣列也就不能改變長度。陣列之間的賦值是值的賦值，即當把一個陣列作為參數傳入函式的時候，傳入的其實是該陣列的副本，而不是它的指標。如果要使用指標，那麼就需要用到後面介紹的 <code>slice</code> 型別了。</p>

<p>陣列可以使用另一種 <code>:=</code> 來宣告</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">a</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">3</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>} <span style="color:#75715e">// 宣告了一個長度為 3 的 int 陣列
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>} <span style="color:#75715e">// 宣告了一個長度為 10 的 int 陣列，其中前三個元素初始化為 1、2、3，其它預設為 0
</span><span style="color:#75715e"></span>
<span style="color:#a6e22e">c</span> <span style="color:#f92672">:=</span> [<span style="color:#f92672">...</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>} <span style="color:#f92672">//</span> <span style="color:#a6e22e">可以省略長度而採用</span><span style="color:#e6db74">`...`</span><span style="color:#a6e22e">的方式</span><span style="color:#960050;background-color:#1e0010">，</span><span style="color:#a6e22e">Go</span> <span style="color:#a6e22e">會自動根據元素個數來計算長度</span></code></pre></div>
<p>也許你會說，我想陣列裡面的值還是陣列，能實現嗎？當然囉，Go 支援巢狀陣列，即多維陣列。比如下面的程式碼就宣告了一個二維陣列：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 宣告了一個二維陣列，該陣列以兩個陣列作為元素，其中每個陣列中又有 4 個 int 型別的元素
</span><span style="color:#75715e"></span><span style="color:#a6e22e">doubleArray</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>{[<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>}, [<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>{<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>}}

<span style="color:#75715e">// 上面的宣告可以簡化，直接忽略內部的型別
</span><span style="color:#75715e"></span><span style="color:#a6e22e">easyArray</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">2</span>][<span style="color:#ae81ff">4</span>]<span style="color:#66d9ef">int</span>{{<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>}, {<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>}}</code></pre></div>
<p>陣列的分配如下所示：</p>

<p><img src="images/2.2.array.png" alt="" /></p>

<p>圖 2.2 多維陣列的對映關係</p>

<h3 id="slice">slice</h3>

<p>在很多應用場景中，陣列並不能滿足我們的需求。在初始定義陣列時，我們並不知道需要多大的陣列，因此我們就需要“動態陣列”。在 Go 裡面這種資料結構叫<code>slice</code></p>

<p><code>slice</code>並不是真正意義上的動態陣列，而是一個參考型別。<code>slice</code>總是指向一個底層<code>array</code>，<code>slice</code>的宣告也可以像 <code>array</code> 一樣，只是不需要長度。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 和宣告 array 一樣，只是少了長度
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">fslice</span> []<span style="color:#66d9ef">int</span></code></pre></div>
<p>接下來我們可以宣告一個<code>slice</code>，並初始化資料，如下所示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">byte</span> {<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>}</code></pre></div>
<p><code>slice</code>可以從一個陣列或一個已經存在的 <code>slice</code> 中再次宣告。<code>slice</code>透過 <code>array[i:j]</code> 來取得，其中 <code>i</code> 是陣列的開始位置，<code>j</code>是結束位置，但不包含<code>array[j]</code>，它的長度是<code>j-i</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 宣告一個含有 10 個元素元素型別為 byte 的陣列
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ar</span> = [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">byte</span> {<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>, <span style="color:#e6db74">&#39;g&#39;</span>, <span style="color:#e6db74">&#39;h&#39;</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;j&#39;</span>}

<span style="color:#75715e">// 宣告兩個含有 byte 的 slice
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span>, <span style="color:#a6e22e">b</span> []<span style="color:#66d9ef">byte</span>

<span style="color:#75715e">// a 指向陣列的第 3 個元素開始，併到第五個元素結束，
</span><span style="color:#75715e"></span><span style="color:#a6e22e">a</span> = <span style="color:#a6e22e">ar</span>[<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">5</span>]
<span style="color:#75715e">//現在 a 含有的元素: ar[2]、ar[3]和 ar[4]
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// b 是陣列 ar 的另一個 slice
</span><span style="color:#75715e"></span><span style="color:#a6e22e">b</span> = <span style="color:#a6e22e">ar</span>[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">5</span>]
<span style="color:#f92672">//</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">的元素是</span><span style="color:#960050;background-color:#1e0010">：</span><span style="color:#a6e22e">ar</span>[<span style="color:#ae81ff">3</span>]<span style="color:#a6e22e">和</span> <span style="color:#a6e22e">ar</span>[<span style="color:#ae81ff">4</span>]</code></pre></div>
<blockquote>
<p>注意 <code>slice</code> 和陣列在宣告時的區別：宣告陣列時，方括號內寫明了陣列的長度或使用<code>...</code>自動計算長度，而宣告 <code>slice</code> 時，方括號內沒有任何字元。</p>
</blockquote>

<p>它們的資料結構如下所示</p>

<p><img src="images/2.2.slice.png" alt="" /></p>

<p>圖 2.3 slice 和 array 的對應關係圖</p>

<p>slice 有一些簡便的操作</p>

<ul>
<li><code>slice</code>的預設開始位置是 0，<code>ar[:n]</code>等價於<code>ar[0:n]</code></li>
<li><code>slice</code>的第二個序列預設是陣列的長度，<code>ar[n:]</code>等價於<code>ar[n:len(ar)]</code></li>
<li>如果從一個陣列裡面直接取得<code>slice</code>，可以這樣<code>ar[:]</code>，因為預設第一個序列是 0，第二個是陣列的長度，即等價於<code>ar[0:len(ar)]</code></li>
</ul>

<p>下面這個例子展示了更多關於 <code>slice</code> 的操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 宣告一個陣列
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">array</span> = [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">byte</span>{<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>, <span style="color:#e6db74">&#39;g&#39;</span>, <span style="color:#e6db74">&#39;h&#39;</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;j&#39;</span>}
<span style="color:#75715e">// 宣告兩個 slice
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">aSlice</span>, <span style="color:#a6e22e">bSlice</span> []<span style="color:#66d9ef">byte</span>

<span style="color:#75715e">// 示範一些簡便操作
</span><span style="color:#75715e"></span><span style="color:#a6e22e">aSlice</span> = <span style="color:#a6e22e">array</span>[:<span style="color:#ae81ff">3</span>] <span style="color:#75715e">// 等價於 aSlice = array[0:3] aSlice 包含元素: a,b,c
</span><span style="color:#75715e"></span><span style="color:#a6e22e">aSlice</span> = <span style="color:#a6e22e">array</span>[<span style="color:#ae81ff">5</span>:] <span style="color:#75715e">// 等價於 aSlice = array[5:10] aSlice 包含元素: f,g,h,i,j
</span><span style="color:#75715e"></span><span style="color:#a6e22e">aSlice</span> = <span style="color:#a6e22e">array</span>[:]  <span style="color:#75715e">// 等價於 aSlice = array[0:10] 這樣 aSlice 包含了全部的元素
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// 從 slice 中取得 slice
</span><span style="color:#75715e"></span><span style="color:#a6e22e">aSlice</span> = <span style="color:#a6e22e">array</span>[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">7</span>]  <span style="color:#75715e">// aSlice 包含元素: d,e,f,g，len=4，cap=7
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bSlice</span> = <span style="color:#a6e22e">aSlice</span>[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>] <span style="color:#75715e">// bSlice 包含 aSlice[1], aSlice[2] 也就是含有: e,f
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bSlice</span> = <span style="color:#a6e22e">aSlice</span>[:<span style="color:#ae81ff">3</span>]  <span style="color:#75715e">// bSlice 包含 aSlice[0], aSlice[1], aSlice[2] 也就是含有: d,e,f
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bSlice</span> = <span style="color:#a6e22e">aSlice</span>[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">5</span>] <span style="color:#75715e">// 對 slice 的 slice 可以在 cap 範圍內擴充套件，此時 bSlice 包含：d,e,f,g,h
</span><span style="color:#75715e"></span><span style="color:#a6e22e">bSlice</span> = <span style="color:#a6e22e">aSlice</span>[:]   <span style="color:#f92672">//</span> <span style="color:#a6e22e">bSlice</span> <span style="color:#a6e22e">包含所有</span> <span style="color:#a6e22e">aSlice</span> <span style="color:#a6e22e">的元素</span>: <span style="color:#a6e22e">d</span>,<span style="color:#a6e22e">e</span>,<span style="color:#a6e22e">f</span>,<span style="color:#a6e22e">g</span></code></pre></div>
<p><code>slice</code>是參考型別，所以當參考改變其中元素的值時，其它的所有參考都會改變該值，例如上面的 <code>aSlice</code> 和<code>bSlice</code>，如果修改了 <code>aSlice</code> 中元素的值，那麼 <code>bSlice</code> 相對應的值也會改變。</p>

<p>從概念上面來說 <code>slice</code> 像一個結構體，這個結構體包含了三個元素：
- 一個指標，指向陣列中 <code>slice</code> 指定的開始位置
- 長度，即 <code>slice</code> 的長度
- 最大長度，也就是 <code>slice</code> 開始位置到陣列的最後位置的長度</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go">	<span style="color:#a6e22e">Array_a</span> <span style="color:#f92672">:=</span> [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">byte</span>{<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;d&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>, <span style="color:#e6db74">&#39;f&#39;</span>, <span style="color:#e6db74">&#39;g&#39;</span>, <span style="color:#e6db74">&#39;h&#39;</span>, <span style="color:#e6db74">&#39;i&#39;</span>, <span style="color:#e6db74">&#39;j&#39;</span>}
	<span style="color:#a6e22e">Slice_a</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Array_a</span>[<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">5</span>]</code></pre></div>
<p>上面程式碼的真正儲存結構如下圖所示</p>

<p><img src="images/2.2.slice2.png" alt="" /></p>

<p>圖 2.4 slice 對應陣列的資訊</p>

<p>對於 <code>slice</code> 有幾個有用的內建函式：</p>

<ul>
<li><code>len</code>    取得 <code>slice</code> 的長度</li>
<li><code>cap</code>    取得 <code>slice</code> 的最大容量</li>
<li><code>append</code> 向 <code>slice</code> 裡面追加一個或者多個元素，然後回傳一個和 <code>slice</code> 一樣型別的<code>slice</code></li>
<li><code>copy</code>   函式 <code>copy</code> 從源 <code>slice</code> 的<code>src</code>中複製元素到目標<code>dst</code>，並且回傳複製的元素的個數</li>
</ul>

<p>注：<code>append</code>函式會改變 <code>slice</code> 所參考的陣列的內容，從而影響到參考同一陣列的其它<code>slice</code>。
但當 <code>slice</code> 中沒有剩餘空間（即<code>(cap-len) == 0</code>）時，此時將動態分配新的陣列空間。回傳的 <code>slice</code> 陣列指標將指向這個空間，而原陣列的內容將保持不變；其它參考此陣列的 <code>slice</code> 則不受影響。</p>

<p>從 Go1.2 開始 slice 支援了三個參數的 slice，之前我們一直採用這種方式在 slice 或者 array 基礎上來取得一個 slice</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">array</span> [<span style="color:#ae81ff">10</span>]<span style="color:#66d9ef">int</span>
<span style="color:#a6e22e">slice</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">array</span>[<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">4</span>]</code></pre></div>
<p>這個例子裡面 slice 的容量是 8，新版本里面可以指定這個容量</p>

<pre><code>slice = array[2:4:7]
</code></pre>

<p>上面這個的容量就是<code>7-2</code>，即 5。這樣這個產生的新的 slice 就沒辦法訪問最後的三個元素。</p>

<p>如果 slice 是這樣的形式<code>array[:i:j]</code>，即第一個參數為空，預設值就是 0。</p>

<h3 id="map">map</h3>

<p><code>map</code>也就是 Python 中字典的概念，它的格式為<code>map[keyType]valueType</code></p>

<p>我們看下面的程式碼，<code>map</code>的讀取和設定也類似 <code>slice</code> 一樣，透過 <code>key</code> 來操作，只是 <code>slice</code> 的<code>index</code>只能是｀int｀型別，而 <code>map</code> 多了很多型別，可以是<code>int</code>，可以是 <code>string</code> 及所有完全定義了 <code>==</code> 與<code>!=</code>操作的型別。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 宣告一個 key 是字串，值為 int 的字典，這種方式的宣告需要在使用之前使用 make 初始化
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">numbers</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">int</span>
<span style="color:#75715e">// 另一種 map 的宣告方式
</span><span style="color:#75715e"></span><span style="color:#a6e22e">numbers</span> = make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">int</span>)
<span style="color:#a6e22e">numbers</span>[<span style="color:#e6db74">&#34;one&#34;</span>] = <span style="color:#ae81ff">1</span>  <span style="color:#75715e">//賦值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">numbers</span>[<span style="color:#e6db74">&#34;ten&#34;</span>] = <span style="color:#ae81ff">10</span> <span style="color:#75715e">//賦值
</span><span style="color:#75715e"></span><span style="color:#a6e22e">numbers</span>[<span style="color:#e6db74">&#34;three&#34;</span>] = <span style="color:#ae81ff">3</span>

<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;第三個數字是: &#34;</span>, <span style="color:#a6e22e">numbers</span>[<span style="color:#e6db74">&#34;three&#34;</span>]) <span style="color:#75715e">// 讀取資料
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span> <span style="color:#a6e22e">顯示出來如</span> : <span style="color:#a6e22e">第三個數字是</span>: <span style="color:#ae81ff">3</span></code></pre></div>
<p>這個 <code>map</code> 就像我們平常看到的表格一樣，左邊列是<code>key</code>，右邊列是值</p>

<p>使用 map 過程中需要注意的幾點：
- <code>map</code>是無序的，每次顯示出來的 <code>map</code> 都會不一樣，它不能透過 <code>index</code> 取得，而必須透過 <code>key</code> 取得
- <code>map</code>的長度是不固定的，也就是和 <code>slice</code> 一樣，也是一種參考型別
- 內建的 <code>len</code> 函式同樣適用於<code>map</code>，回傳 <code>map</code> 擁有的 <code>key</code> 的數量
- <code>map</code>的值可以很方便的修改，透過<code>numbers[&quot;one&quot;]=11</code>可以很容易的把 key 為<code>one</code>的字典值改為<code>11</code>
- <code>map</code>和其他基本型別不同，它不是 thread-safe，在多個 go-routine 存取時，必須使用 mutex lock 機制</p>

<p><code>map</code>的初始化可以透過 <code>key:val</code> 的方式初始化值，同時 <code>map</code> 內建有判斷是否存在 <code>key</code> 的方式</p>

<p>透過 <code>delete</code> 刪除 <code>map</code> 的元素：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#75715e">// 初始化一個字典
</span><span style="color:#75715e"></span><span style="color:#a6e22e">rating</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">float32</span>{<span style="color:#e6db74">&#34;C&#34;</span>:<span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#34;Go&#34;</span>:<span style="color:#ae81ff">4.5</span>, <span style="color:#e6db74">&#34;Python&#34;</span>:<span style="color:#ae81ff">4.5</span>, <span style="color:#e6db74">&#34;C++&#34;</span>:<span style="color:#ae81ff">2</span> }
<span style="color:#75715e">// map 有兩個回傳值，第二個回傳值，如果不存在 key，那麼 ok 為 false，如果存在 ok 為 true
</span><span style="color:#75715e"></span><span style="color:#a6e22e">csharpRating</span>, <span style="color:#a6e22e">ok</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rating</span>[<span style="color:#e6db74">&#34;C#&#34;</span>]
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">ok</span> {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;C# is in the map and its rating is &#34;</span>, <span style="color:#a6e22e">csharpRating</span>)
} <span style="color:#66d9ef">else</span> {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;We have no rating associated with C# in the map&#34;</span>)
}

delete(<span style="color:#a6e22e">rating</span>, <span style="color:#e6db74">&#34;C&#34;</span>)  <span style="color:#f92672">//</span> <span style="color:#a6e22e">刪除</span> <span style="color:#a6e22e">key</span> <span style="color:#a6e22e">為</span> <span style="color:#a6e22e">C</span> <span style="color:#a6e22e">的元素</span></code></pre></div>
<p>上面說過了，<code>map</code>也是一種參考型別，如果兩個 <code>map</code> 同時指向一個底層，那麼一個改變，另一個也相應的改變：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#a6e22e">m</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#66d9ef">string</span>)
<span style="color:#a6e22e">m</span>[<span style="color:#e6db74">&#34;Hello&#34;</span>] = <span style="color:#e6db74">&#34;Bonjour&#34;</span>
<span style="color:#a6e22e">m1</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">m</span>
<span style="color:#a6e22e">m1</span>[<span style="color:#e6db74">&#34;Hello&#34;</span>] = <span style="color:#e6db74">&#34;Salut&#34;</span>  <span style="color:#f92672">//</span> <span style="color:#a6e22e">現在</span> <span style="color:#a6e22e">m</span>[<span style="color:#e6db74">&#34;hello&#34;</span>]<span style="color:#a6e22e">的值已經是</span> <span style="color:#a6e22e">Salut</span> <span style="color:#a6e22e">了</span></code></pre></div>
<h3 id="make-new-操作">make、new 操作</h3>

<p><code>make</code>用於內建型別（<code>map</code>、<code>slice</code> 和<code>channel</code>）的記憶體分配。<code>new</code>用於各種型別的記憶體分配。</p>

<p>內建函式 <code>new</code> 本質上說跟其它語言中的同名函式功能一樣：<code>new(T)</code>分配了零值填充的 <code>T</code> 型別的記憶體空間，並且回傳其地址，即一個<code>*T</code>型別的值。用 Go 的術語說，它回傳了一個指標，指向新分配的型別 <code>T</code> 的零值。有一點非常重要：</p>

<blockquote>
<p><code>new</code>回傳指標。</p>
</blockquote>

<p>內建函式<code>make(T, args)</code>與<code>new(T)</code>有著不同的功能，make 只能建立<code>slice</code>、<code>map</code>和<code>channel</code>，並且回傳一個有初始值(非零)的 <code>T</code> 型別，而不是<code>*T</code>。本質來講，導致這三個型別有所不同的原因是指向資料結構的參考在使用前必須被初始化。例如，一個<code>slice</code>，是一個包含指向資料（內部<code>array</code>）的指標、長度和容量的三項描述符；在這些專案被初始化之前，<code>slice</code>為<code>nil</code>。對於<code>slice</code>、<code>map</code>和 <code>channel</code> 來說，<code>make</code>初始化了內部的資料結構，填充適當的值。</p>

<blockquote>
<p><code>make</code>回傳初始化後的（非零）值。</p>
</blockquote>

<p>下面這個圖詳細的解釋了 <code>new</code> 和<code>make</code>之間的區別。</p>

<p><img src="images/2.2.makenew.png" alt="" /></p>

<p>圖 2.5 make 和 new 對應底層的記憶體分配</p>

<h2 id="零值">零值</h2>

<p>關於“零值”，所指並非是空值，而是一種“變數未填充前”的預設值，通常為 0。
此處羅列 部分類型 的 “零值”</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#66d9ef">int</span>     <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">int8</span>    <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">int32</span>   <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">int64</span>   <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">uint</span>    <span style="color:#ae81ff">0x0</span>
<span style="color:#66d9ef">rune</span>    <span style="color:#ae81ff">0</span> <span style="color:#75715e">//rune 的實際型別是 int32
</span><span style="color:#75715e"></span><span style="color:#66d9ef">byte</span>    <span style="color:#ae81ff">0x0</span> <span style="color:#75715e">// byte 的實際型別是 uint8
</span><span style="color:#75715e"></span><span style="color:#66d9ef">float32</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//長度為 4 byte
</span><span style="color:#75715e"></span><span style="color:#66d9ef">float64</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//長度為 8 byte
</span><span style="color:#75715e"></span><span style="color:#66d9ef">bool</span>    <span style="color:#66d9ef">false</span>
<span style="color:#66d9ef">string</span>  <span style="color:#e6db74">&#34;&#34;</span></code></pre></div>
<h2 id="links">links</h2>

<ul>
<li><a href="docs/preface">目錄</a></li>
<li>上一章: <a href="docs/02.1">你好,Go</a></li>
<li>下一節: <a href="docs/02.3">流程和函式</a></li>
</ul>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a href="/commit/fda25aafea9413c8ec77f5df29d5f6bb5f7dc3a6" title='Last modified Sep 21, 2019 by Jiuxiao' target="_blank" rel="noopener">
      <img src="/buildWebWithGolangTw/svg/calendar.svg" alt="Changed" /> Sep 21, 2019
    </a>
  </div>
  
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#2-2-go-基礎">2.2 Go 基礎</a>
<ul>
<li><a href="#定義變數">定義變數</a></li>
<li><a href="#常數">常數</a></li>
<li><a href="#內建基礎型別">內建基礎型別</a>
<ul>
<li><a href="#boolean">Boolean</a></li>
<li><a href="#數值型別">數值型別</a></li>
<li><a href="#字串">字串</a></li>
<li><a href="#錯誤型別">錯誤型別</a></li>
<li><a href="#go-資料底層的儲存">Go 資料底層的儲存</a></li>
</ul></li>
<li><a href="#一些技巧">一些技巧</a>
<ul>
<li><a href="#分組宣告">分組宣告</a></li>
<li><a href="#iota-列舉">iota 列舉</a></li>
<li><a href="#go-程式設計的一些規則">Go 程式設計的一些規則</a></li>
</ul></li>
<li><a href="#array-slice-map">array、slice、map</a>
<ul>
<li><a href="#array">array</a></li>
<li><a href="#slice">slice</a></li>
<li><a href="#map">map</a></li>
<li><a href="#make-new-操作">make、new 操作</a></li>
</ul></li>
<li><a href="#零值">零值</a></li>
<li><a href="#links">links</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-148025936-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
